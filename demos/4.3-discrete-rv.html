<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>4.3 Discrete Random Variables</title>
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
  <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body>
  <header>
    <h1>Unit 4: Probability and Statistical Inference</h1>
    <p class="subtitle">4.3 — Discrete Random Variables</p>
  </header>

  <main class="demo-page">
    <a href="../index.html" class="back-link">← Back to all sections</a>

    <h1>4.3: Discrete Random Variables</h1>

    <div class="concept-block">
      <h2>What You'll Learn</h2>
      <ul>
        <li>Assign numbers to outcomes (random variables) and describe distributions</li>
        <li>Compute expected value, variance, and standard deviation for discrete \(X\)</li>
        <li>Use these tools for budgeting, risk, and decision-making</li>
      </ul>
      <p><strong>When to use:</strong> When outcomes are counts or categories with numeric values (sales, bonuses, defects). Expected value = long-run average; variance = spread.</p>
      <p><strong>Prerequisites:</strong> <a href="4.1-probability-concepts.html">4.1</a> — basic probability.</p>
    </div>

    <div class="content-section">
      <h2>Definitions</h2>
      <p>A <strong>random variable</strong> assigns numbers to outcomes. <strong>Discrete</strong> variables have countable values (0, 1, 2, …); <strong>continuous</strong> variables take values in an interval.</p>
    </div>

    <div class="content-section">
      <h2>Probability Distribution</h2>
      <p>For discrete \(X\), the <strong>probability distribution</strong> gives \(P(X = x)\) for each value. Rules: \(0 \leq P(X=x) \leq 1\) and \(\sum P(X=x) = 1\).</p>
    </div>

    <div class="content-section">
      <h2>Expected Value, Variance, Standard Deviation</h2>
      <div class="formula">\[ E(X) = \mu = \sum x_i \cdot P(X = x_i) \]</div>
      <div class="formula">\[ \text{Var}(X) = \sigma^2 = \sum (x_i - \mu)^2 \cdot P(X = x_i), \quad \text{SD}(X) = \sigma = \sqrt{\text{Var}(X)} \]</div>
    </div>

    <div class="content-section">
      <h2>Coin Flip Example</h2>
      <p>\(X\) = number of heads in 2 flips. Outcomes: TT (0), HT/TH (1), HH (2). Each outcome has probability 1/4. So \(P(X=0)=1/4\), \(P(X=1)=1/2\), \(P(X=2)=1/4\). Then \(E(X)=1\), \(\text{Var}(X)=1/2\).</p>
    </div>

    <h2>Interactive Demo: Coin Flips</h2>
    <div class="demo-box">
      <p><strong>Why it matters:</strong> This is the building block for the binomial distribution (4.4)—multiple independent trials, each with two outcomes. PMF for \(X\) = number of heads in 2 fair coin flips.</p>
      <table class="demo-table">
        <thead><tr><th>\(x\)</th><th>\(P(X=x)\)</th></tr></thead>
        <tbody>
          <tr><td>0</td><td>1/4</td></tr>
          <tr><td>1</td><td>1/2</td></tr>
          <tr><td>2</td><td>1/4</td></tr>
        </tbody>
      </table>
      <div class="result">\(E(X)\) = <span id="ex">1</span>, \(\text{Var}(X)\) = <span id="var">0.5</span>, \(\sigma\) ≈ <span id="sd">0.71</span></div>
      <canvas id="coinChart" width="400" height="200"></canvas>
    </div>

    <h2>Interactive Demo: Juan Jimenez Bonuses</h2>
    <div class="demo-box">
      <p><strong>Why it matters:</strong> Expected value helps with budgeting (total expected payout). Variance measures risk—higher variance means more unpredictability. Juan's dealership: Superior $10k (0.15), Good $6k (0.25), Fair $3k (0.40), Poor $0 (0.20). \(X\) = bonus in $1,000s.</p>
      <div class="input-row">
        <div class="input-group">
          <label>Superior ($000s)</label>
          <input type="number" id="x1" value="10">
        </div>
        <div class="input-group">
          <label>\(P(X=10)\)</label>
          <input type="number" id="p1" value="0.15" min="0" max="1" step="0.01">
        </div>
        <div class="input-group">
          <label>Good ($000s)</label>
          <input type="number" id="x2" value="6">
        </div>
        <div class="input-group">
          <label>\(P(X=6)\)</label>
          <input type="number" id="p2" value="0.25" min="0" max="1" step="0.01">
        </div>
        <div class="input-group">
          <label>Fair ($000s)</label>
          <input type="number" id="x3" value="3">
        </div>
        <div class="input-group">
          <label>\(P(X=3)\)</label>
          <input type="number" id="p3" value="0.40" min="0" max="1" step="0.01">
        </div>
        <div class="input-group">
          <label>Poor ($000s)</label>
          <input type="number" id="x4" value="0">
        </div>
        <div class="input-group">
          <label>\(P(X=0)\)</label>
          <input type="number" id="p4" value="0.20" min="0" max="1" step="0.01">
        </div>
      </div>
      <div class="result">
        \(E(X)\) = <span id="bonusMean" class="value">4.2</span> ($1,000s) = $<span id="meanDollars">4,200</span><br>
        \(\text{Var}(X)\) ≈ <span id="bonusVar">9.97</span>, \(\sigma\) ≈ <span id="bonusSD">3.16</span> ($1,000s)<br>
        25 employees → expected total = $<span id="totalBonus">105,000</span>
      </div>
      <canvas id="bonusChart" width="400" height="200"></canvas>
    </div>
  </main>

  <footer><a href="../index.html">← Back to all sections</a></footer>

  <script src="../js/shared.js"></script>
  <script>
    const coinData = { labels: ['0', '1', '2'], datasets: [{ label: 'P(X=x)', data: [0.25, 0.5, 0.25], backgroundColor: 'rgba(122,162,247,0.7)' }] };
    const coinCtx = document.getElementById('coinChart').getContext('2d');
    new Chart(coinCtx, {
      type: 'bar',
      data: coinData,
      options: { scales: { y: { beginAtZero: true, max: 1 } }, plugins: { legend: { display: false } } }
    });

    function parseVal(id, def) { const v = parseFloat(document.getElementById(id)?.value); return isNaN(v) ? def : v; }
    function updateBonus() {
      const x = [parseVal('x1',10), parseVal('x2',6), parseVal('x3',3), parseVal('x4',0)];
      const p = [parseVal('p1',0.15), parseVal('p2',0.25), parseVal('p3',0.4), parseVal('p4',0.2)];
      const mu = x.reduce((s, xi, i) => s + xi * p[i], 0);
      const varX = x.reduce((s, xi, i) => s + (xi - mu)**2 * p[i], 0);
      const sd = Math.sqrt(varX);
      document.getElementById('bonusMean').textContent = mu.toFixed(1);
      document.getElementById('meanDollars').textContent = (mu*1000).toLocaleString();
      document.getElementById('bonusVar').textContent = varX.toFixed(2);
      document.getElementById('bonusSD').textContent = sd.toFixed(2);
      document.getElementById('totalBonus').textContent = (25 * mu * 1000).toLocaleString();
      if (window.bonusChart) { window.bonusChart.data.datasets[0].data = p; window.bonusChart.update(); }
    }
    document.addEventListener('DOMContentLoaded', function() {
      window.bonusChart = new Chart(document.getElementById('bonusChart').getContext('2d'), {
        type: 'bar',
        data: { labels: ['Superior', 'Good', 'Fair', 'Poor'], datasets: [{ label: 'P(X=x)', data: [0.15,0.25,0.4,0.2], backgroundColor: 'rgba(187,154,247,0.7)' }] },
        options: { scales: { y: { beginAtZero: true, max: 1 } }, plugins: { legend: { display: false } } }
      });
      updateBonus();
    });
    ['x1','p1','x2','p2','x3','p3','x4','p4'].forEach(id => document.getElementById(id).addEventListener('input', updateBonus));
  </script>
</body>
</html>
